!function (a) {
    a.fn.SuperBox = function (b) {
        var c = a('<div class="superbox-show"></div>'),
                d = a('<img src="" class="superbox-current-img"><div id="imgInfoBox" class="superbox-imageinfo inline-block"> <h1>Image Title</h1><span><p><em>http://imagelink.com/thisimage.jpg</em></p><p class="superbox-img-description">Image description</p><p><a href="javascript:void(0);" class="btn btn-primary btn-sm">Edit Image</a> <a href="javascript:void(0);" class="btn btn-danger btn-sm btn-delete-superbox">Delete</a></p></span> </div>'),                
                e = a('<div class="superbox-close txt-color-white"><i class="fa fa-times fa-lg"></i></div>');
        c.append(d).append(e);
        a(".superbox-imageinfo");
        return this.each(function () {
            a(".superbox-list").click(function () {
                $this = a(this);
                if($this.find('.file_size_icon').size() > 0){
                    //alert($this.find('.superbox-img').data("type"));
                    var b = $this.find(".superbox-img"),
                        l = b.data("type"),
                        e = b.data("img"),
                        k = b.data("superbox-id"),
                        f = b.attr("alt") != 'null' ? b.attr("alt") : '',
                        g = e,
                        h = b.attr("title") != 'null' ? b.attr("title") : "No Title";
                        //alert(c.html());
                        
                        if(c.find('.superbox-current-i').size() > 0){
                            c.find('.superbox-current-i').show();
                            c.find('.superbox-current-i').remove();
                            c.find('#imgInfoBox').before('<div class="superbox-current-i" data-srr="'+k+'"><i class="fa '+l+'"></i></div>');
                        }else{
                            c.find('#imgInfoBox').before('<div class="superbox-current-i" data-srr="'+k+'"><i class="fa '+l+'"></i></div>');
                        }
                        c.find('.superbox-current-img').hide();
                        
                }else{
                    var b = $this.find(".superbox-img"),
                        e = b.data("img"),
                        f = b.attr("alt") != 'null' ? b.attr("alt") : '',
                        g = e,
                        h = b.attr("title") != 'null' ? b.attr("title") : "No Title";
                    c.find('.superbox-current-i').hide();
                    c.find('.superbox-current-img').show();
                    d.attr("src", e);
                }
                
                 a(".superbox-list").removeClass("active"), $this.addClass("active"), d.find("em").text(g), d.find(">:first-child").text(h), d.find(".superbox-img-description").text(f), 0 == a(".superbox-current-img").css("opacity") && a(".superbox-current-img").animate({
                    "opacity": 1
                }), a(this).next().hasClass("superbox-show") ? (c.is(":visible") && a(".superbox-list").removeClass("active"), c.toggle()) : (c.insertAfter(this).css("display", "block"), $this.addClass("active")), a("html, body").animate({
                    scrollTop: c.position().top - b.width()
                }, "medium")
            }), a(".superbox").on("click", ".superbox-close", function () {
                a(".superbox-list").removeClass("active"), a(".superbox-current-img").animate({
                    opacity: 0
                }, 200, function () {
                    a(".superbox-show").slideUp()
                })
            })
        })
    }
}(jQuery);